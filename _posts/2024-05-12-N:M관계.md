![pk중복발생.png]({{site.baseurl}}pk중복발생.png)
M:N을 그냥 사용하려하면 PK가 중복되는 현상이 발생된다.
![다대다해소.png]({{site.baseurl}}/다대다해소.png)
**학생**은 **과목**을 **수강한다.**

학원에서 배웠던 다대다 해소 테이블이 생성되었다.
![중복수강.png]({{site.baseurl}}/assets/img/중복수강.png)
???? 지금 상태에선 하선 학생이 중복수강하는 것이 가능하다. 잘못된 것 같다.

그런데 학생과 과목을 고객과 상품이라는 명사로 변경한다면?  

(명사와 명사는 동사가 아니라 has로 따진다. → 고객이 상품을 갖는다. 라는 문장도 이상하다. 상품은 가게가 갖는것. 그렇다면? 고객이 상품을 구매한다라는 문장으로 바꾼다면 자연스럽다. )

**이하선이라는 고객이 연필이라는 상품을 여러 개 구매할 수 있다.**

비즈니스마다 특징이 있다. 중복을 허용해야하는 쇼핑의 경우 아래와 같이 PK를 독립시킨다.
![독립형.png]({{site.baseurl}}/assets/img/독립형.png)
수강처럼 중복을 허용하지 않아야 한다면 아래와 같이 상속형 PK로 사용한다. 
![상속형.png]({{site.baseurl}}/assets/img/상속형.png)
그런데 만약 상속형 PK에 많다면 쿼리문이 복잡해질것이다.   
아래와 같이 설계하면 프로그래밍 하기가 좋다. 
![마지막.png]({{site.baseurl}}/assets/img/마지막.png)
