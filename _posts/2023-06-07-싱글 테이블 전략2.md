---
title: Embedded íƒ€ì…ê³¼ ì—”í‹°í‹° ìƒì†(ì •ë¦¬ì¤‘)
date: 2023-06-09 10:00:00 +0900
categories: [ê°œì¸í”„ë¡œì íŠ¸]
tags: [GettingThingsDone,JPA]     # TAG names should always be lowercase
published: true
---
ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ì„œ 

ì¼ë°˜ ë¡œê·¸ì¸ ìœ ì €ì™€ ì†Œì…œ ë¡œê·¸ì¸ ìœ ì € í…Œì´ë¸” ê´€ë¦¬ë¥¼ ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆë‹¤. 

ë‘ í…Œì´ë¸”ì„ í•©ì¹˜ë©´ null í—ˆìš© ì»¬ëŸ¼ì´ ë§ì•„ì§ˆ ë“¯í•˜ì—¬ 1ëŒ€1ê´€ê³„ë¡œ ì„¤ì •í•˜ì˜€ìœ¼ë‚˜ 

ì–´ì°¨í”¼ ë”°ë¡œ ì¡°íšŒí•  ì¼ì´ ë§ì§€ ì•Šë‹¤ë©´ joiní•˜ëŠ” ê²ƒë³´ë‹¤ í•œí…Œì´ë¸”ì— ë‘ëŠ”ê²Œ ë‚«ê² ë‹¤ ì‹¶ì–´ì„œ ë‹¤ì‹œ ìˆ˜ì • í•œí…Œì´ë¸”ì— ê´€ë¦¬í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë°”ê¾¸ì—ˆê³ , 

ì†Œì…œ ë¡œê·¸ì¸ ë©¤ë²„ì˜ ì»¬ëŸ¼ì„ ë”°ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì°¾ë‹¤ê°€
Entity ë‚´ë¶€ ì—°ê´€ í•„ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” `@Embedded` ë°©ì‹ê³¼, ìƒì†ê´€ê³„ë¥¼ ì´ìš©í•œ ***ìƒì†ê´€ê³„ ì „ëµ***ì„ ì•Œê²Œë˜ì—ˆë‹¤. 

ì‚¬ìš©ë²•ì€ í¬ê²Œ ì–´ë µì§€ ì•Šìœ¼ë‚˜ ì°¨ì´ì ì´ ê¶ê¸ˆí•´ì„œ ì¡°ì‚¬í•´ë´¤ë‹¤. 

# Embedded íƒ€ì…

![https://m.blog.naver.com/qjawnswkd/222074105010](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/121852fc-4d81-485c-a56f-ca3c1310f132/Untitled.png)

https://m.blog.naver.com/qjawnswkd/222074105010

- Period.isWork()ì²˜ëŸ¼ í•´ë‹¹ ê°’ íƒ€ì…ë§Œ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ ìˆëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- ì„ë² ë””ë“œ íƒ€ì… í¬í•¨í•œ ëª¨ë“  ê°’ íƒ€ì…ì€, ê°’ íƒ€ì…ì„ ì†Œìœ í•œ ì—”í‹°í‹°ì— ìƒëª…ì£¼ê¸°ë¥¼ ì˜ì¡´
- `@AttributeOverride`ë¥¼ í™œìš©í•˜ì—¬ ì¬ì‚¬ìš© í•˜ê¸° ìš©ì˜í•˜ë‹¤.
- @AttributeOverride
    
    ```java
    @Embedded
    private Address homeAdress;
    @Embedded
    private Address workAdress;
    ```
    
    ```java
    @Embedded
    private Address homeAdress;
    @Embedded
    @AttributeOverrides({
    	@AttributeOverride(name = "city", column = @Colunm(name = "work_city")),
    	@AttributeOverride(name = "street", column = @Colunm(name = "work_street")),
    	@AttributeOverride(name = "zipcode", column = @Colunm(name = "work_zipcode")),
    })
    private Address workAdress;
    ```
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a9265d6d-1171-4972-abb2-dfbd2291e7ef/Untitled.png)
    

## ì£¼ì˜ì‚¬í•­

```java
Address address = new Address("city","street","zipcode");
Member member1 = new Member();
member1.setHomeAdress(adress)
em.persist(member1);

Member member2 = new Member();
member1.setHomeAdress(adress)
em.persist(member2);

member1.getGetHomeAddress().setCity("newCity"); // ë‘˜ë‹¤ ìˆ˜ì •ëœë‹¤. 
```

ê°™ì€ ê°ì²´ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ëª¨ë‘ insert ë¬¸ì´ ë‚˜ê°„ë‹¤. 

ê°ê° ìˆ˜ì •ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³µì‚¬í•´ì„œ setHomeAddressì— ë„£ì–´ì£¼ë©´ ë  ê²ƒì´ë‹¤.

```java
Address address = new Address("city","street","zipcode");
Member member1 = new Member();
member1.setHomeAdress(adress);
em.persist(member1);

Address copyAddress = new Address(address.getCity(),address.getStreet(),address.getZipcode());

Member member2 = new Member();
member1.setHomeAdress(copyAddress);
em.persist(member2);

member1.getGetHomeAddress().setCity("newCity"); // member1ë§Œ ìˆ˜ì •ë¨
```

ê·¸ëŸ¬ë‚˜ ë¬¸ì œëŠ” ì„ë² ë””ë“œ íƒ€ì…ì²˜ëŸ¼ ì§ì ‘ ì •ì˜í•œ íƒ€ì…ì€ ìë°” ê¸°ë³¸ íƒ€ì…ì´ ì•„ë‹ˆë¼ ê°ì²´ íƒ€ì…?ì´ë‹¤. 

ê°ì²´ íƒ€ì…ì€ ì°¸ì¡° ê°’ì„ ì§ì ‘ ëŒ€ì…í•˜ëŠ” ê²ƒì„ ë§‰ì„ ë°©ë²•ì´ ì—†ë‹¤. 

**ì‹¤ìˆ˜ë¡œ ì›ë³¸ Addressê°ì²´ë¥¼ member2ì— ë„£ëŠ” ê²ƒì„ ë§‰ì„ ë°©ë²•ì€ ì—†ë‹¤ëŠ” ì´ì•¼ê¸°.**

<aside>
ğŸ’¡ **Embeddedíƒ€ì…ì„ ì‚¬ìš©í•  ë•ŒëŠ” ë¶ˆë³€ ê°ì²´ë¡œ ë§Œë“¤ì.**

</aside>

# ìƒì†ê´€ê³„ ì „ëµ